# 程序设计语言基础知识——语言处理程序基础
语言处理程序是一种系统软件，它能让高级语言或者汇编语言写的程序转换成某种机器语言程序。主要有
- 汇编程序
- 编译程序
- 解释程序

三种类型
## 汇编程序的基本原理
### 汇编语言
汇编语言是为特定计算机涉及的面向机器的符号化的程序设计语言。

汇编语言源程序主要有若干条语句组成。主要有三类语句。
- 指令语句
  - 算术运算指令
  - 逻辑运算指令
  - 移位指令
  - 转移指令
  - 处理机控制指令
- 伪指令语句
- 宏指令语句

### 汇编程序
将源程序翻译成机器指令程序。

每一条可执行汇编语句可以转换成对应的机器指令。

编译过程
- 生成符号表ST，以及机器指令表MOT1，确定指令长度。并对伪指令处理
- 产生目标程序。使用机器指令表MOT2.设立伪指令表POT2，将机器指令助记符转换成二进制机器指令操作码，并求出操作数区各操作数值
## 编译程序基本原理
### 编译过程概述
源程序----词法分析----语法分析----语义分析----中间代码生成----代码优化----目标代码生成----目标代码。

六步中都需要进行符号表管理和出错处理。

词法分析：

通过词法分析，识别出所有的单词。

语法分析：

在词法分析的基础上，根据语法规则，将单词序列分解成语法单位。判断输入串是否是正确的方式。

语义分析：

分析各个语法结构的含义，检查源程序是否包含语义错误，手机类型信息提供后面的代码生成阶段使用

中间代码生成：

根据语义分析的输出生成中间代码，用一种简单的并且含义明确的记号系统。与机器无关

代码优化：

在中间的代码生成的阶段，对代码进行生成分析。优化一些多于的代码。

目标代码生成：将中间代码变换成特定机器上的绝对指令代码。

符号表管理：

记录源程序中各个符号的必要信息

出错处理：

在发现错误时，应当采取适当的策略修复他们。

### 文法和语言形式概述

a. 字母表、字符串、字符串集合级运算

1. 令字母表为$\sum$，字母为其中的元素
2. 字符串是：由$\sum$中的字母组合而成
3. 字符串长度：字符串的字符个数
4. 空串$\varepsilon$：由0个字符组成的字符串。
5. 连接符号:·。可省略。用于连接字符串
6. $\sum^*$：包括空串在内的$\sum$上的所有字母的集合
7. 字符串的方幂：字符串$\alpha$连接n次记作：$\alpha^n$
8. 字符串集合运算：
   1. 或：合并集合$A\cup B$
   2. 积：求连接的字母集合
   3. 幂：求字符的积的幂次。
   4. 正则闭包+：$A^+=A^1\cup A^2 \cup A^3 \cup ... \cup A^n ...$
   5. 闭包*：$A^*=A^0 \cup A^+$

b. 文法和语言的形式描述

语言L是有限字母表$\sum$上的有限长度字符串集合。集合中的字符串按照一定规则生成。

产生语言，即制定有限个规则，并根据他们产生此语言的全部句子。

文法的定义：

描述语言的语法结构就称之为文法。文法G是一个四元组。表示为
$G=(V_N,V_T,P,S)$ 
$V_T$：非空有限集，每个元素称之为终结符
$V_N$：非空有限集，每个元素称之为非终结符。
$V_T \cap V_N = \varnothing$
$V=V_T \cup V_N$，则称V为文法G的词汇表
P是产生式的有限集，形如$\alpha \to \beta$。其中，$\alpha$称之为左部，且$\alpha \in V^+$, $\alpha$含有一个非终结符。$\beta$称之为右部，且$\beta \in V^*$
若若干个产生式的左部相同，则称这些产生式的一个右部为左部的一个候选式。
S为开始符号，必须在一条产生式中作为左部出现。

文法的类型：
- 0型：短语文法
- 1型：上下文有关文法
- 2型：上下文无关文法
- 3型：正规式

句子和语言：
推导与直接推导
直接规约和归纳
句型和句子
语言

文法的等价

### 词法分析
a. 正规表达式和正规集

定义：
- $\varepsilon$是一个正规式，表示$L\varepsilon = {\varepsilon}$
- 若a是$\sum$上的字符，则a是一个正规式{a}
- 若正规式r和s分别表示正规集L(r)和L(s)，则：
  - r|s是正规式，$r|s=L(r) \cup L(s)$（或）
  - $r\cdot s$是正规式。$r\cdot s = L(r)L(s)$（连接）
  - r*是正规式。$r^*=(L(r))^*$ （闭包）
  - (r)是正规式

正规式的代数性质：交换律、结合律等

b. 有限自动机
DFA是五元组$(S,\sum,f,s_0,Z)$。其中f是$S \times \sum \to S$的单值部分映像。$s_0 \in S$唯一的开始状态。$Z \subseteq S$且Z是非空的终止状态集合

DFA可以用状态转换图和状态转换矩阵表示。

NFA：五元组。
f是$S \times \sum \to 2^S$上的映像，且当前映像与后面的对象不唯一。
有向弧的标记可以是$\varepsilon$

DFA是NFA的特例。

NFA到DFA的转换：子集法
DFA到NFA的转换：子集法

DFA的最小化：如果两个状态不可区分，那么就可以合并，当图转换成不可分割的图后，那么图就是最小化的。

### 正规式和有限自动机之间的转换
有限自动机转换为正规式

正规式转换为有限自动机

### 词法分析器的构造
1. 用正规式描述语言中的单词构成的规则、
2. 为每个正规式构造一个NFA，识别正规集
3. 转换成等价的DFA
4. 对DFA进行最小化处理。
5. 对DFA构造词法分析器

### 语法分析
1）上下文无关文法

  - 规范推导
  - 短语、直接短语和句柄

2）自顶向下语法分析方法

3）自底向上语法分析方法（LR）
- 驱动器
- 分析表
- 分析栈

动作：
- 移进
- 归约
- 接受
- 报错

### 语法制导翻译和中间代码生成
1）中间代码：
- 后缀式
- 树形表示
- 三元式表示
- 四元式表示

2）常见语法结构翻译
- 赋值语句
- 布尔表达式
- 常见语句

3）动态存储分配和过程调用翻译
### 中间代码优化和目标代码生成
- 中间代码形式
  - 多采用四元式形式
  - 树形式
  - 后阿辉送我hi
- 目标代码形式
  - 汇编
  - 机器指令
- 寄存器分配
- 计算次序选择

## 解释程序基本原理
不产生源程序的目标程序，直接执行源程序或中间表示形式。运行效率不高。
### 基本结构
- 分析部分
  - 词法分析
  - 语法分析
  - 语义分析
- 解释

### 编译与解释方式比较
- 效率：编译更高
- 灵活性：解释更强
- 可移植性：解释更好